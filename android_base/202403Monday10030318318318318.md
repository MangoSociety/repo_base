#готово 

Theme : #android #memory 
Title: Как ты понимаешь концепцию HAPPENS BEFORE ?
Sphere: #mobile 

### Content

Концепция "happens-before" (происходит раньше) является фундаментальной в многопоточном программировании и определяет порядок выполнения операций в многопоточном окружении. Она используется для обеспечения корректности и синхронизации между потоками, гарантируя, что один поток видит эффекты изменений, сделанных другим потоком. 

### Основные принципы "happens-before":

1. **Программный порядок (Program Order Rule)**:
   - В одном потоке, каждый шаг программы "происходит раньше" следующего шага. То есть, если в потоке A есть две инструкции: A1 и A2, то A1 "происходит раньше" A2.

2. **Правило мониторов (Monitor Lock Rule)**:
   - Взаимное исключение через блокировки. Если поток освобождает блокировку (unlock), то это действие "происходит раньше" захвата (lock) той же блокировки другим потоком. Таким образом, все изменения, сделанные до освобождения блокировки, видны другому потоку после захвата этой блокировки.

3. **Правило volatile переменных (Volatile Variable Rule)**:
   - Запись в volatile переменную "происходит раньше" любой последующей операции чтения этой переменной. Это обеспечивает видимость изменений volatile переменных между потоками.

4. **Правило потока (Thread Start Rule)**:
   - Вызов метода `Thread.start()` на новом потоке "происходит раньше" любого действия в новом потоке. Это гарантирует, что все изменения, сделанные до вызова `start()`, будут видны в новом потоке.

5. **Правило завершения потока (Thread Termination Rule)**:
   - Все действия в потоке "происходят раньше", чем завершение потока, обнаруженное другим потоком через метод `Thread.join()`. Это гарантирует, что все изменения, сделанные в потоке, завершившемся до вызова `join()`, будут видны в потоке, вызвавшем `join()`.

6. **Правило прерывания (Thread Interruption Rule)**:
   - Вызов метода `Thread.interrupt()` "происходит раньше" обнаружения прерывания (через `Thread.isInterrupted()` или выброс `InterruptedException`) в прерываемом потоке.

7. **Правило завершения объекта (Finalizer Rule)**:
   - Завершение конструктора объекта "происходит раньше" вызова его метода finalize(). Это гарантирует, что финализатор видит полностью сконструированный объект.

### External Link

- 

### Internal Link

- ....