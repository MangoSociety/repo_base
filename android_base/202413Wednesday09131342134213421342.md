#готово 

Theme : #golang #scheduler
Title: Как работает вытесняющая многозадачность?
Sphere : #backend

### Content

Вытесняющая многозадачность в Go работает путем периодического прерывания выполнения горутин, чтобы другие горутины могли получить время на выполнение. Планировщик Go использует таймеры для прерывания текущей горутины и переключения на другую.

### Как это работает:

1. **Таймеры**:
   - Планировщик устанавливает таймеры для каждой горутины, чтобы ограничить время её выполнения.

2. **Прерывание**:
   - Когда таймер истекает, планировщик сохраняет состояние текущей горутины и переключает выполнение на другую горутину из очереди готовых.

3. **Возобновление**:
   - Сохраненная горутина будет возобновлена позже, когда снова получит время на выполнение.

### Пример:

Планировщик Go периодически проверяет, сколько времени горутина выполняется, и при необходимости переключает контекст.

```go
package main

import (
    "fmt"
    "runtime"
    "time"
)

func worker(id int) {
    for {
        fmt.Printf("Worker %d is running\n", id)
        time.Sleep(100 * time.Millisecond)
    }
}

func main() {
    runtime.GOMAXPROCS(1)

    go worker(1)
    go worker(2)

    time.Sleep(1 * time.Second)
}
```

В этом примере планировщик переключает выполнение между двумя горутинами, обеспечивая вытесняющую многозадачность.
### External Link



### Internal Link

- 