#готово 

Theme : #core 
Title: **Флаги активити с taskAffinity (ФЛАГИ СПРАШИВАЮТ ЧАСТО, taskAffinity - ни разу не спрашивали)**
Sphere: #android 

### Content

Флаги активити в Android используются для управления поведением активности, особенно в отношении того, как она располагается в стеке задач (back stack) и как взаимодействует с другими активностями. `taskAffinity`, с другой стороны, представляет собой более продвинутую концепцию, связанную с организацией активностей в различные задачи.

### Часто используемые флаги активити:

1. **FLAG_ACTIVITY_NEW_TASK**:
    
    - Если установлен, активность будет запущена в новой задаче. Если задача уже существует, активность будет привязана к этой задаче.
    - Часто используется вместе с `taskAffinity` для создания отдельных стеков в рамках одного приложения.
2. **FLAG_ACTIVITY_SINGLE_TOP**:
    
    - Если активность уже находится на вершине стека, она не будет запущена заново. Вместо этого `onNewIntent()` будет вызвано в существующем экземпляре.
3. **FLAG_ACTIVITY_CLEAR_TOP**:
    
    - Если активность уже запущена в текущей задаче, то все активности, находящиеся над ней, будут уничтожены, и эта активность получит новый intent.
4. **FLAG_ACTIVITY_CLEAR_TASK**:
    
    - При запуске активности удаляет все предыдущие активности из задачи.
5. **FLAG_ACTIVITY_NO_HISTORY**:
    
    - Активность не останется в стеке задач, когда пользователь покидает ее.

### taskAffinity:

`taskAffinity` определяет логическую принадлежность активности к определенной задаче. Она определяется в манифесте приложения через атрибут `taskAffinity` элемента `<activity>`. Это свойство позволяет группировать активности в задачи в зависимости от их аффинитета, даже если эти активности принадлежат разным приложениям.

Например, вы можете использовать `taskAffinity` вместе с `FLAG_ACTIVITY_NEW_TASK` для запуска активности в отдельной задаче, отличной от стандартной задачи вашего приложения.

### External Link

- ....

### Internal Link

- ....